import{n as u,a as o,u as v,b as g,c as j,d as h,W as y,j as s,m,L as E}from"./vendor-446e3497.js";import{G as M,a as B,p as L,M as S,i as b,b as A,f as G}from"./common-c2210d67.js";import"./axios-d95ca511.js";const I=u(M)`
  margin-top: 10px;
`,$=()=>{var l;const[a,d]=o.useState([]),{actorID:p}=v(),i=g();let r=j();const{data:t,error:x,isLoading:f,isError:n,isSuccess:c}=h(["filmsByActor",{actorID:p}],G,{staleTime:6e4,cacheTime:6e4});return o.useEffect(()=>{if(t===404){const e=localStorage.getItem("actorID");r(`/moviesbyactor/${e}`)}},[t,r]),o.useEffect(()=>{c&&typeof t=="object"&&t.cast.length>0&&d([...a,...t.cast]),n&&y.error(`Error: ${x.response.data.message}`)},[t,n,c]),f?s.jsx(B,{}):s.jsx(m.div,{initial:"closed",animate:"open",exit:"exit",variants:L,children:a.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(I,{path:((l=(i==null?void 0:i.state).from)==null?void 0:l.location)??"/"}),s.jsx(S,{children:a.map(e=>s.jsx(m.li,{initial:"closed",animate:"open",exit:"exit",variants:b(),children:s.jsx(E,{to:`/movies/${e.id}`,children:s.jsx(A,{movie:e})})},e.id))})]})})},V=$;export{V as default};
