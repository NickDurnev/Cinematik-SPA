{"version":3,"file":"static/js/WatchedMoviesPage.1206a4ce.chunk.js","mappings":"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","sources":["animations.js","components/CardList/CardList.styled.jsx","components/CardList/CardList.jsx","services/getGenre.js","components/MovieCard/MovieCard.styled.jsx","components/MovieCard/MovieCard.jsx","components/Notify/Notify.styled.jsx","components/Notify/Notify.jsx","pages/WatchedMoviesPage/WatchedMoviesPage.styled.jsx","pages/WatchedMoviesPage/WatchedMoviesPage.jsx","services/watchedMoviesStorageActions.js","../node_modules/@mui/icons-material/Delete.js"],"sourcesContent":["export const textVariants = {\n  open: { opacity: 1, y: 0, transition: { delay: 0.5 } },\n  closed: { opacity: 0, y: '50%' },\n};\n\nexport const modalVariants = {\n  open: { opacity: 1, scale: 1.0, x: '-50%', y: '-50%' },\n  closed: { opacity: 0, scale: 0.7, x: '-50%', y: '-50%' },\n};\n\nexport const pageVariants = {\n  open: { opacity: 1, height: '100%' },\n  closed: { opacity: 0, height: 0 },\n  exit: {\n    y: window.innerHeight,\n    opacity: 0,\n    transition: { duration: 0.3, delay: 0.3 },\n  },\n};\n\nexport const pageInfoVariants = {\n  open: { opacity: 1 },\n  closed: { opacity: 0 },\n};\n","import styled from '@emotion/styled';\nimport { device } from 'deviceSizes';\n\nexport const List = styled.ul`\n  width: 100%;\n  display: block;\n  padding: 15px 0;\n\n  & > li + li {\n    margin-top: 10px;\n\n    @media ${device.tablet} {\n      margin: 0;\n    }\n  }\n\n  @media ${device.tablet} {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 10px;\n    justify-items: center;\n    align-items: stretch;\n  }\n\n  @media ${device.laptop} {\n    grid-template-columns: repeat(5, 1fr);\n    gap: 20px;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { List } from './CardList.styled';\n\nconst CardList = ({ children }) => <List>{children}</List>;\n\nCardList.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default CardList;\n","export const getGenreName = (genreIds) => {\n  const genres = window.localStorage.getItem('moviesGenres');\n  const parsedGenres = JSON.parse(genres);\n  let movieGenre = null;\n  let name = null;\n  if (parsedGenres && genreIds.length > 0) {\n    movieGenre = parsedGenres.find(({ id }) => id === genreIds[0]);\n    name = movieGenre.name;\n  }\n  return name\n}\n","import styled from '@emotion/styled';\nimport { Rating } from '@mui/material';\nimport { device } from 'deviceSizes';\n\nexport const Container = styled.div`\n  position: relative;\n`;\n\nexport const Card = styled.div`\n  width: 85vw;\n  border-radius: 10px;\n  overflow: hidden;\n\n  & > img {\n    width: 100%;\n    min-height: 100%;\n    background: linear-gradient(\n      180deg,\n      rgba(29, 29, 29, 0) 0%,\n      rgba(29, 29, 29, 0.8) 80.79%\n    );\n  }\n\n  & > p {\n    width: 100%;\n    margin-top: 10px;\n    font-weight: 500;\n    font-size: 24px;\n    line-height: 32px;\n    color: ${props => props.theme.textColor};\n\n    @media ${device.tablet} {\n      font-weight: 400;\n      font-size: 18px;\n    }\n  }\n\n  @media ${device.tablet} {\n    width: 28vw;\n  }\n\n  @media ${device.laptop} {\n    width: 17vw;\n  }\n`;\n\nexport const Genre = styled.span`\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  padding: 5px;\n  background: rgba(29, 29, 29, 0.5);\n  border-radius: 0px 8px;\n  color: ${props => props.theme.bgElementColor};\n`;\n\nexport const InfoWrap = styled.div`\n  width: 100%;\n  height: auto;\n  position: absolute;\n  bottom: 5px;\n  left: 0;\n`;\n\nexport const Rate = styled(Rating)`\n  color: ${({ theme }) => theme.bgElementColor};\n`;\n","import PropTypes from 'prop-types';\nimport { getGenreName } from 'services/getGenre';\nimport { Container, Card, InfoWrap, Rate, Genre } from './MovieCard.styled';\nimport imageNotFound from '../../images/Error 404 Wallpaper.jpg';\n\nconst MovieCard = ({ movie }) => {\n  const { poster_path, title, vote_average, genre_ids } = movie;\n  let genreNames = null;\n  if (genre_ids) {\n    genreNames = getGenreName(genre_ids);\n  }\n  return (\n    <Card>\n      <Container>\n        {genreNames && <Genre>{genreNames}</Genre>}\n        <img\n          src={\n            poster_path !== null\n              ? `https://image.tmdb.org/t/p/w400${poster_path}`\n              : imageNotFound\n          }\n          alt={title}\n        />\n        <InfoWrap>\n          {vote_average > 0 && (\n            <Rate\n              name=\"read-only\"\n              value={vote_average.toFixed(1) / 2}\n              readOnly\n              precision={0.5}\n            />\n          )}\n        </InfoWrap>\n      </Container>\n      <p>{title}</p>\n    </Card>\n  );\n};\n\nMovieCard.propTypes = {\n  movie: PropTypes.shape({\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    genre_ids: PropTypes.arrayOf(PropTypes.number),\n  }),\n};\n\nexport default MovieCard;\n","import styled from '@emotion/styled';\nimport { motion } from 'framer-motion';\n\nconst Wrap = styled(motion.div)`\n  width: 100%;\n  padding: 10% 20%;\n  border-radius: 5px;\n`;\n\nexport default Wrap;\n","import PropTypes from 'prop-types';\nimport Wrap from './Notify.styled';\nimport { textVariants } from 'animations';\n\nconst Notify = ({ children }) => (\n  <Wrap initial={'closed'} animate={'open'} variants={textVariants}>\n    {children}\n  </Wrap>\n);\n\nNotify.propTypes = {\n  children: PropTypes.node.isRequired,\n  padding: PropTypes.string,\n};\n\nexport default Notify;\n","import styled from '@emotion/styled';\nimport IconButton from '@mui/material/IconButton';\n\nexport const ListItem = styled.li`\n  position: relative;\n`;\n\nexport const Button = styled(IconButton)`\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 2;\n  color: ${({ theme }) => theme.bgElementColor};\n  width: 50px;\n  height: 50px;\n\n  & > svg {\n    width: 30px;\n    height: 30px;\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { deleteFromWatchedMovies } from 'services/watchedMoviesStorageActions';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport CardList from 'components/CardList';\nimport MovieCard from 'components/MovieCard';\nimport Notify from 'components/Notify';\nimport { ListItem, Button } from './WatchedMoviesPage.styled';\nimport { pageVariants } from 'animations';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n\n  useEffect(() => {\n    getMovies();\n  }, [movies]);\n\n  const getMovies = () => {\n    const savedMovies = localStorage.getItem('watchedMovies');\n    let parsedMovies = JSON.parse(savedMovies);\n    setMovies(parsedMovies);\n  };\n\n  const deleteMovie = (e, id) => {\n    console.log(e.currentTarget.nodeName);\n    if (e.currentTarget.nodeName !== 'BUTTON') {\n      return;\n    }\n    const filteredMovies = deleteFromWatchedMovies(movies, id);\n    setMovies(filteredMovies);\n  };\n\n  return (\n    <motion.div\n      initial={'closed'}\n      animate={'open'}\n      exit={'exit'}\n      variants={pageVariants}\n    >\n      {movies ? (\n        <CardList>\n          {movies.map(movie => (\n            <ListItem key={movie.id}>\n              <Button onClick={e => deleteMovie(e, movie.id)}>\n                <DeleteIcon />\n              </Button>\n              <Link\n                to={`/movies/${movie.id}`}\n                state={{\n                  from: {\n                    location,\n                  },\n                }}\n              >\n                <MovieCard movie={movie}></MovieCard>\n              </Link>\n            </ListItem>\n          ))}\n        </CardList>\n      ) : (\n        <Notify>\n          <h2 style={{ textTransform: 'uppercase' }}>List is empty</h2>\n        </Notify>\n      )}\n    </motion.div>\n  );\n};\n\nexport default MoviesPage;\n","export function addToWatchedMovies(data) {\n  const savedMovies = localStorage.getItem('watchedMovies');\n  let parsedMovies = JSON.parse(savedMovies);\n  if (!parsedMovies) {\n    parsedMovies = [data];\n    window.localStorage.setItem('watchedMovies', JSON.stringify(parsedMovies));\n    return;\n  }\n  const filter = parsedMovies.find(({ id }) => id === data.id);\n  if (filter) {\n    return;\n  }\n  parsedMovies = [...parsedMovies, data];\n  window.localStorage.setItem('watchedMovies', JSON.stringify(parsedMovies));\n}\n\nexport function deleteFromWatchedMovies(movies, selectedID) {\n  const filteredMovies = movies.filter(({ id }) => id !== selectedID);\n  window.localStorage.setItem('watchedMovies', JSON.stringify(filteredMovies));\n  return filteredMovies;\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;"],"names":["textVariants","open","opacity","y","transition","delay","closed","modalVariants","scale","x","pageVariants","height","exit","window","innerHeight","duration","pageInfoVariants","List","styled","device","children","Container","Card","props","theme","textColor","Genre","bgElementColor","InfoWrap","Rate","Rating","movie","poster_path","title","vote_average","genre_ids","genreNames","genreIds","genres","localStorage","getItem","parsedGenres","JSON","parse","name","length","find","id","getGenreName","src","imageNotFound","alt","value","toFixed","readOnly","precision","motion","initial","animate","variants","ListItem","Button","IconButton","useState","movies","setMovies","location","useLocation","useEffect","getMovies","savedMovies","parsedMovies","CardList","map","onClick","e","console","log","currentTarget","nodeName","filteredMovies","deleteFromWatchedMovies","deleteMovie","Delete","to","state","from","MovieCard","Notify","style","textTransform","addToWatchedMovies","data","setItem","stringify","selectedID","filter","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}