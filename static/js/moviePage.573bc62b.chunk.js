(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[681],{8329:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r,o=n(168),i=n(6031).ZP.ul(r||(r=(0,o.Z)(["\n  width: 100%;\n  padding: 15px;\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  gap: 20px;\n  justify-items: center;\n  align-items: stretch;\n"]))),s=n(184),a=function(e){var t=e.children;return(0,s.jsx)(i,{children:t})}},7519:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,o=n(1413),i=(n(2791),n(8175)),s=n(168),a=n(6031).ZP.div(r||(r=(0,s.Z)(["\n  width: 100%;\n  padding: 15px;\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  gap: 20px;\n  justify-items: center;\n  align-items: stretch;\n"]))),u=n(184),c=function(e){return(0,u.jsxs)(i.ZP,(0,o.Z)((0,o.Z)({speed:2,width:400,height:460,viewBox:"0 0 400 460",style:{width:"100%",height:"auto"},backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},e),{},{children:[(0,u.jsx)("rect",{x:"110",y:"466",rx:"2",ry:"2",width:"140",height:"10"}),(0,u.jsx)("rect",{x:"32",y:"-24",rx:"0",ry:"0",width:"384",height:"400"}),(0,u.jsx)("rect",{x:"32",y:"400",rx:"0",ry:"0",width:"392",height:"31"})]}))},l=function(){return(0,u.jsxs)(a,{children:[(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{}),(0,u.jsx)(c,{})]})}},4744:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r,o=n(168),i=n(6031).ZP.div(r||(r=(0,o.Z)(["\n  position: relative;\n  border-radius: 10px;\n  overflow: hidden;\n\n  & > div {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 60px;\n    display: flex;\n    padding: 5px;\n    justify-content: space-around;\n    align-items: center;\n    background-color: #e2d5d5a6;\n    border-radius: 10px;\n    object-fit: cover;\n  }\n\n  & > div > p {\n    font-weight: 500;\n    color: #3d3434;\n  }\n\n  & > p {\n    margin-top: 10px;\n    font-size: 1.2rem;\n    font-weight: 500;\n    color: #4e4747;\n  }\n"]))),s=n(9126),a=n(9436),u=n(184),c=function(e){var t=e.movie,n=t.poster_path,r=t.original_title,o=t.vote_average;return(0,u.jsxs)(i,{children:[(0,u.jsx)("img",{src:null!==n?"https://image.tmdb.org/t/p/w500".concat(n):a,alt:r}),(0,u.jsx)("p",{children:r}),(0,u.jsxs)("div",{children:[(0,u.jsx)(s.kum,{size:"20px",color:"gold"}),(0,u.jsx)("p",{children:o.toFixed(1)})]})]})}},9269:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r,o,i=n(885),s=n(2791),a=n(3504),u=n(6871),c=n(1933),l=n(4222),p=n(131),d=n.n(p),h=n(409),f=n(168),g=n(6031),v=g.ZP.header(r||(r=(0,f.Z)(["\n  top: 50px;\n  left: 0;\n  position: sticky;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),x=g.ZP.form(o||(o=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  & > input {\n    display: inline-block;\n    width: 100%;\n    height: 30px;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n  }\n  & > input::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n  & > button {\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  }\n  & > button:hover,\n  button:focus {\n    opacity: 1;\n  }\n  & span {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n"]))),m=n(9983);function y(e){return(0,m.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}var b=n(184),w=function(e){var t=e.onSubmit,n=e.onChange,r=(0,s.useState)(""),o=(0,i.Z)(r,2),a=o[0],u=o[1];return(0,b.jsx)(v,{children:(0,b.jsxs)(x,{onSubmit:function(e){e.preventDefault(),t()},children:[(0,b.jsxs)("button",{type:"submit",children:[(0,b.jsx)(y,{size:"24"}),(0,b.jsx)("span",{children:"Search"})]}),(0,b.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:a,onChange:function(e){u(e.target.value),n(a)}})]})})},j=n(8329),P=n(4744),L=n(7519),k=function(){var e=(0,s.useState)(""),t=(0,i.Z)(e,2),n=t[0],r=t[1],o=(0,u.s0)(),p=(0,c.useInfiniteQuery)(["searchMovie",{query:n}],h.qF,{enabled:!1,staleTime:6e4,cacheTime:6e4,getNextPageParam:function(e){if(!(e.nextPage>e.totalPages))return e.nextPage}}),f=p.data,g=p.error,v=p.fetchNextPage,x=p.hasNextPage,m=p.isLoading,y=p.isError,k=p.isSuccess,S=p.refetch;return m?(0,b.jsx)(L.Z,{}):y?l.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(g.message)):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w,{onSubmit:function(){o("?query=".concat(n)),S()},onChange:function(e){return r(e)}}),k&&(0,b.jsx)(d(),{hasMore:x,loadMore:v,children:f.pages.map((function(e){var t=e.results,n=e.nextPage;return(0,b.jsx)(j.Z,{children:t.map((function(e){return(0,b.jsx)("li",{children:(0,b.jsx)(a.rU,{to:"/movies/".concat(e.id),children:(0,b.jsx)(P.Z,{movie:e})})},e.id)}))},"id".concat(n))}))}),(0,b.jsx)(l.Ix,{})]})}},409:function(e,t,n){"use strict";n.d(t,{Cm:function(){return m},TW:function(){return v},gY:function(){return l},hG:function(){return f},qF:function(){return d}});var r=n(885),o=n(5861),i=n(7757),s=n.n(i),a=n(4569),u=n.n(a);u().defaults.baseURL="https://api.themoviedb.org/3/";var c="105ba628fde77462ee84526f3393a31c";function l(){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("trending/movie/day?api_key=".concat(c));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(s().mark((function e(t){var n,o,i,a,l,p,d,h,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pageParam,o=void 0===n?1:n,i=t.queryKey,a=(0,r.Z)(i,2),l=a[0],p=a[1].query,console.log("".concat(l)),""===p){e.next=10;break}return e.next=6,u().get("search/movie?api_key=".concat(c,"&language=en-US&query=").concat(p,"&page=").concat(o,"&include_adult=false"));case 6:return d=e.sent,h=d.data.results,f=d.data.total_pages,e.abrupt("return",{results:h,nextPage:o+1,totalPages:f});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(s().mark((function e(t){var n,o,i,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,o=(0,r.Z)(n,2),i=o[0],a=o[1].movieId,console.log("".concat(i)),e.next=5,u().get("movie/".concat(a,"?api_key=").concat(c,"&language=en-US"));case 5:return l=e.sent,e.abrupt("return",l.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(s().mark((function e(t){var n,o,i,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,o=(0,r.Z)(n,2),i=o[0],a=o[1].movieId,console.log("".concat(i)),e.next=5,u().get("movie/".concat(a,"/credits?api_key=").concat(c,"&language=en-US"));case 5:return l=e.sent,e.abrupt("return",l.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(s().mark((function e(t){var n,o,i,a,l,p,d,h,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,o=void 0===n?1:n,i=t.queryKey,a=(0,r.Z)(i,2),l=a[0],p=a[1].movieId,console.log("".concat(l)),e.next=5,u().get("movie/".concat(p,"/reviews?api_key=").concat(c,"&language=en-US&page=1"));case 5:return d=e.sent,h=d.data.results,f=d.data.total_pages,e.abrupt("return",{results:h,nextPage:o+1,totalPages:f});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},888:function(e,t,n){"use strict";var r=n(9047);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8566:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2791),i=a(o),s=a(n(2007));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(n){}return e}},{key:"eventListenerOptions",value:function(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),r=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,i=void 0!==t.pageYOffset?t.pageYOffset:o.scrollTop;r=this.props.isReverse?i:this.calculateOffset(e,i)}else r=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;r<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,r=t.element,o=t.hasMore,s=(t.initialLoad,t.isReverse),a=t.loader,u=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,u&&u(t)};var l=[n];return o&&(a?s?l.unshift(a):l.push(a):this.defaultLoader&&(s?l.unshift(this.defaultLoader):l.push(this.defaultLoader))),i.default.createElement(r,c,l)}}]),t}(o.Component);u.propTypes={children:s.default.node.isRequired,element:s.default.node,hasMore:s.default.bool,initialLoad:s.default.bool,isReverse:s.default.bool,loader:s.default.node,loadMore:s.default.func.isRequired,pageStart:s.default.number,ref:s.default.func,getScrollParent:s.default.func,threshold:s.default.number,useCapture:s.default.bool,useWindow:s.default.bool},u.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=u,e.exports=t.default},131:function(e,t,n){e.exports=n(8566)},9436:function(e,t,n){"use strict";e.exports=n.p+"static/media/Error 404 Wallpaper.8abd10198d38772bf2c0.jpg"}}]);
//# sourceMappingURL=moviePage.573bc62b.chunk.js.map