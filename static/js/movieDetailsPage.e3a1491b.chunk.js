"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[721],{6530:function(n,e,t){t.d(e,{LZ:function(){return l},W2:function(){return s},jp:function(){return p}});var r,o,i,a=t(168),c=t(6031),u=t(3504),s=c.ZP.div(r||(r=(0,a.Z)(["\n  padding: 20px 0;\n"]))),l=c.ZP.div(o||(o=(0,a.Z)(["\n  display: flex;\n  margin-top: 20px;\n\n  & img {\n    width: 400px;\n    height: auto;\n  }\n"]))),p=(0,c.ZP)(u.rU)(i||(i=(0,a.Z)(["\n  display: block;\n  width: 200px;\n  padding: 15px;\n  border-radius: 5px;\n  font-family: sans-serif;\n  text-transform: uppercase;\n  text-align: center;\n  color: ",";\n  background-color: ",";\n  transition: background-color ","\n    ",";\n\n  &:hover,\n  &:focus {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.elementColor}),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.hoverTransition}),(function(n){return n.theme.hoverTimeFunction}),(function(n){return n.theme.bgElementHoverColor}))},4596:function(n,e,t){t.d(e,{Ff:function(){return Z},zx:function(){return P},Ls:function(){return k},W2:function(){return v},xD:function(){return b},n4:function(){return y},Ig:function(){return w},EB:function(){return x},Fg:function(){return j}});var r,o,i,a,c,u,s,l,p,d,f=t(168),h=t(6031),g=t(3504),m=h.ZP.button(r||(r=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 10px 0;\n  font-size: 20px;\n  font-weight: 600;\n  text-transform: uppercase;\n  width: 150px;\n  height: 70px;\n  padding: ",";\n  color: ",";\n  background-color: ",";\n  transition: all ","\n    ",";\n\n  &:hover,\n  &:focus {\n    background-color: ",";\n  }\n"])),(function(n){return n.padding}),(function(n){return n.theme.elementColor}),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.hoverTransition}),(function(n){return n.theme.hoverTimeFunction}),(function(n){return n.theme.bgElementHoverColor})),x=h.ZP.div(o||(o=(0,f.Z)(["\n  padding-top: 20px;\n"]))),v=h.ZP.div(i||(i=(0,f.Z)(["\n  display: flex;\n  padding-top: 20px;\n  margin-bottom: 20px;\n\n  & > img {\n    width: 400px;\n    max-height: auto;\n  }\n"]))),b=h.ZP.div(a||(a=(0,f.Z)(["\n  flex-grow: 1;\n  padding: 40px;\n  & > h1,\n  h2 {\n    margin-bottom: 20px;\n  }\n\n  & h2 {\n    font-size: 20px;\n    font-weight: 500;\n    font-style: italic;\n    color: #817d7d;\n  }\n\n  & > p {\n    line-height: 1.5;\n    margin-bottom: 10px;\n  }\n"]))),y=h.ZP.ul(c||(c=(0,f.Z)(["\n  display: flex;\n  max-width: 30vw;\n  justify-content: space-around;\n  align-items: center;\n  margin-bottom: 20px;\n  margin-left: auto;\n  margin-right: auto;\n\n  & > li:first-child {\n    font-weight: 600;\n    text-align: left;\n    margin-right: 20px;\n  }\n\n  & > li:last-child {\n    text-align: right;\n  }\n\n  & > li > p + p {\n    margin-top: 10px;\n  }\n"]))),w=h.ZP.ul(u||(u=(0,f.Z)(["\n  width: 60%;\n  margin-right: auto;\n  margin-left: auto;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-around;\n  margin-top: 10px;\n\n  & > li {\n    padding: 15px 50px;\n    font-family: sans-serif;\n    text-transform: uppercase;\n    text-align: center;\n    position: relative;\n    text-decoration: none;\n    display: inline-block;\n    background-image: linear-gradient(\n      to right,\n      ",",\n      "," 50%,\n      #000 50%\n    );\n    background-size: 200% 100%;\n    background-position: -100%;\n    position: relative;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: ",";\n    transition: all ","\n      ",";\n    &:before {\n      content: '';\n      background: ",";\n      display: block;\n      position: absolute;\n      bottom: -3px;\n      left: 0;\n      width: 0;\n      height: 3px;\n      transition: all 0.3s ease-in-out;\n    }\n    &:hover {\n      background-position: 0;\n    }\n    &:hover::before {\n      width: 100%;\n    }\n  }\n"])),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.hoverTransition}),(function(n){return n.theme.hoverTimeFunction}),(function(n){return n.theme.bgElementColor})),Z=h.ZP.div(s||(s=(0,f.Z)(["\n  margin-top: 30px;\n  & > p {\n    margin-bottom: 20px;\n    font-size: 20px;\n    font-weight: 500;\n  }\n"]))),k=h.ZP.div(l||(l=(0,f.Z)(["\n  max-width: 400px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n"]))),j=(0,h.ZP)(g.rU)(p||(p=(0,f.Z)(["\n  margin: 0 auto;\n  width: 150px;\n  height: 40px;\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: ",";\n  border-radius: 5px;\n  background-color: ",";\n  transition: all ","\n    ",";\n\n  &:hover,\n  &:focus {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.elementColor}),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.hoverTransition}),(function(n){return n.theme.hoverTimeFunction}),(function(n){return n.theme.bgElementHoverColor})),P=(0,h.ZP)(m)(d||(d=(0,f.Z)(["\n  margin: 0 auto;\n  margin-top: 30px;\n"])))},8194:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var r,o,i=t(5861),a=t(885),c=t(7757),u=t.n(c),s=t(2791),l=t(6871),p=t(1933),d=t(4222),f=t(9838),h=t(409),g=t(1413),m=t(6530),x=t(4596),v=t(9436),b=t(184),y=function(n){var e,t,r,o,i=n.movieData,c=n.handleModalToggle,u=(0,s.useState)(null),p=(0,a.Z)(u,2),d=p[0],f=p[1],h=(0,l.TH)(),y=(0,l.UO)().movieId;(0,s.useEffect)((function(){f(h.state)}),[h.state]),console.log(d);var w=i.poster_path,Z=i.release_date,k=i.title,j=i.tagline,P=i.runtime,_=i.overview,C=i.budget,S=i.genres;return(0,b.jsxs)(x.EB,{children:[(0,b.jsx)(m.jp,{to:null!==(e=null!==(t=null===d||void 0===d||null===(r=d.from)||void 0===r?void 0:r.location)&&void 0!==t?t:null===d||void 0===d||null===(o=d.from)||void 0===o?void 0:o.prevLocation)&&void 0!==e?e:"/",state:{from:{location:h}},children:"Go back"}),(0,b.jsxs)(x.W2,{children:[(0,b.jsx)("img",{src:null!==w?"https://image.tmdb.org/t/p/w500".concat(w):v,alt:k}),(0,b.jsxs)(x.xD,{children:[(0,b.jsx)("h1",{children:k}),""!==j&&(0,b.jsxs)("h2",{children:['"',j,'"']}),(0,b.jsx)("p",{children:_}),(0,b.jsxs)(x.n4,{children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("p",{children:"Release date:"}),(0,b.jsx)("p",{children:"Runtime:"}),0!==C&&(0,b.jsx)("p",{children:"Budget:"})]}),(0,b.jsxs)("li",{children:[(0,b.jsxs)("p",{children:[" ",Z]}),(0,b.jsxs)("p",{children:[P," minutes "]}),0!==C&&(0,b.jsxs)("p",{children:[C," $"]})]})]}),(0,b.jsx)(x.Ig,{children:S.map((function(n){var e=n.id,t=n.name;return(0,b.jsx)("li",{children:(0,b.jsx)("p",{children:t})},e)}))}),(0,b.jsx)(x.zx,{type:"button",padding:"10px",onClick:c,children:"Watch Trailer"}),(0,b.jsxs)(x.Ff,{children:[(0,b.jsx)("p",{children:"Additional imformation"}),(0,b.jsxs)(x.Ls,{children:[(0,b.jsx)(x.Fg,{to:"/movies/".concat(y,"/cast"),state:(0,g.Z)({},d),children:"Cast"}),(0,b.jsx)(x.Fg,{to:"/movies/".concat(y,"/reviews"),state:(0,g.Z)({},d),children:"Reviews"})]})]})]})]})]})},w=t(4164),Z=t(168),k=t(6031),j=k.ZP.div(r||(r=(0,Z.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: ",";\n  color: ",";\n  overflow-y: scroll;\n"])),(function(n){return n.theme.backdropColor}),(function(n){return n.theme.textColor})),P=k.ZP.div(o||(o=(0,Z.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  min-width: 300px;\n  padding: 10px;\n  border-radius: 5px;\n  text-align: center;\n  background-color: ",";\n  font-weight: ",";\n\n  & > p {\n    margin-bottom: 10px;\n  }\n\n  & button + button {\n    margin-left: 20px;\n  }\n"])),(function(n){return n.theme.modalBgColor}),(function(n){return n.theme.mainTextFontWeight})),_=document.querySelector("#modal-root"),C=function(n){var e=n.children,t=n.onModal;return(0,w.createPortal)((0,b.jsx)(j,{onClick:function(n){"DIV"===n.target.nodeName&&t(!1)},children:(0,b.jsx)(P,{children:e})}),_)},S=(0,s.lazy)((function(){return t.e(277).then(t.bind(t,6068))})),E=(0,s.lazy)((function(){return Promise.all([t.e(894),t.e(912)]).then(t.bind(t,6187))})),I=function(){var n=(0,l.UO)().movieId,e=(0,l.s0)(),t=(0,s.useRef)("https://www.youtube.com/embed/"),r=(0,s.useState)(!1),o=(0,a.Z)(r,2),c=o[0],g=o[1],m=(0,s.useState)(null),x=(0,a.Z)(m,2),v=x[0],w=x[1],Z=function(){var n=(0,i.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return g(!1),n.abrupt("return");case 3:if(g(!0),v){n.next=10;break}return n.next=7,k();case 7:t=n.sent,sessionStorage.setItem("trailer",JSON.stringify(t)),w(t);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),k=function(){var e=(0,i.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.np)(n);case 2:return t=e.sent,r=t.find((function(n){return n.name.includes("Official")})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=(0,p.useQuery)(["movieDetails",{movieId:n}],h.hG,{staleTime:6e4,cacheTime:6e4}),P=j.data,_=j.error,I=j.isLoading,T=j.isError,F=j.isSuccess;return(0,s.useEffect)((function(){if(404===P){var n=localStorage.getItem("movieId");e("/movies/".concat(n))}}),[P,e]),I?(0,b.jsx)(f.Z,{}):T?d.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(_.message)):F&&404!==P?(localStorage.setItem("movieId",JSON.stringify(+n)),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y,{movieData:P,handleModalToggle:function(n){return Z(n)}}),(0,b.jsx)(s.Suspense,{fallback:(0,b.jsx)(f.Z,{}),children:(0,b.jsxs)(l.Z5,{children:[(0,b.jsx)(l.AW,{path:"/cast",element:(0,b.jsx)(S,{})}),(0,b.jsx)(l.AW,{path:"/reviews",element:(0,b.jsx)(E,{})})]})}),c&&(0,b.jsx)(C,{onModal:function(n){return Z(n)},children:v?(0,b.jsx)("iframe",{src:"".concat(t.current).concat(v.key,"?autoplay=0&mute=0&controls=1"),title:"video",width:"600",height:"400",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,b.jsx)("h2",{children:"We don't have trailer for this movie"})})]})):void 0}},409:function(n,e,t){t.d(e,{Cm:function(){return k},TW:function(){return w},_0:function(){return b},f8:function(){return x},gY:function(){return p},hG:function(){return g},np:function(){return P},qF:function(){return f}});var r=t(885),o=t(5861),i=t(7757),a=t.n(i),c=t(4569),u=t.n(c),s=t(4222);u().defaults.baseURL="https://api.themoviedb.org/3/";var l="105ba628fde77462ee84526f3393a31c";function p(){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("trending/movie/day?api_key=".concat(l));case 2:return e=n.sent,n.abrupt("return",e.data.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(a().mark((function n(e){var t,o,i,c,p,d,f,h,g;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.pageParam,o=void 0===t?1:t,i=e.queryKey,c=(0,r.Z)(i,2),p=c[0],d=c[1].query,console.log("".concat(p)),d){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,u().get("search/movie?api_key=".concat(l,"&language=en-US&query=").concat(d,"&page=").concat(o,"&include_adult=false"));case 7:return f=n.sent,h=f.data.results,g=f.data.total_pages,h.length||s.Am.info("Movies were not found"),n.abrupt("return",{results:h,nextPage:o+1,totalPages:g});case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(a().mark((function n(e){var t,o,i,c,s,p;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.queryKey,o=(0,r.Z)(t,2),i=o[0],c=o[1].movieId,console.log("".concat(i)),n.prev=3,n.next=6,u().get("movie/".concat(c,"?api_key=").concat(l,"&language=en-US"));case 6:return s=n.sent,n.next=9,s.data;case 9:return p=n.sent,n.abrupt("return",p);case 13:return n.prev=13,n.t0=n.catch(3),n.abrupt("return",n.t0.response.status);case 16:case"end":return n.stop()}}),n,null,[[3,13]])})))).apply(this,arguments)}function x(n){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(a().mark((function n(e){var t,o,i,c,s,p;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.queryKey,o=(0,r.Z)(t,2),i=o[0],c=o[1].actorId,console.log("".concat(i)),n.prev=3,n.next=6,u().get("person/".concat(c,"?api_key=").concat(l,"&language=en-US"));case 6:return s=n.sent,n.next=9,s.data;case 9:return p=n.sent,n.abrupt("return",p);case 13:return n.prev=13,n.t0=n.catch(3),n.abrupt("return",n.t0.response.status);case 16:case"end":return n.stop()}}),n,null,[[3,13]])})))).apply(this,arguments)}function b(n){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(a().mark((function n(e){var t,o,i,c,s,p;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.queryKey,o=(0,r.Z)(t,2),i=o[0],c=o[1].actorId,console.log("".concat(i)),n.prev=3,n.next=6,u().get("person/".concat(c,"/movie_credits?api_key=").concat(l,"&language=en-US"));case 6:return s=n.sent,n.next=9,s.data;case 9:return p=n.sent,n.abrupt("return",p);case 13:return n.prev=13,n.t0=n.catch(3),n.abrupt("return",n.t0.response.status);case 16:case"end":return n.stop()}}),n,null,[[3,13]])})))).apply(this,arguments)}function w(n){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(a().mark((function n(e){var t,o,i,c,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.queryKey,o=(0,r.Z)(t,2),i=o[0],c=o[1].movieId,console.log("".concat(i)),n.next=5,u().get("movie/".concat(c,"/credits?api_key=").concat(l,"&language=en-US"));case 5:return s=n.sent,n.abrupt("return",s.data);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(n){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)(a().mark((function n(e){var t,o,i,c,s,p,d,f,h;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.pageParam,o=void 0===t?1:t,i=e.queryKey,c=(0,r.Z)(i,2),s=c[0],p=c[1].movieId,console.log("".concat(s)),n.next=5,u().get("movie/".concat(p,"/reviews?api_key=").concat(l,"&language=en-US&page=1"));case 5:return d=n.sent,f=d.data.results,h=d.data.total_pages,n.abrupt("return",{results:f,nextPage:o+1,totalPages:h});case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function P(n){return _.apply(this,arguments)}function _(){return(_=(0,o.Z)(a().mark((function n(e){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("movie/".concat(e,"/videos?api_key=").concat(l,"&language=en-US"));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},9436:function(n,e,t){n.exports=t.p+"static/media/Error 404 Wallpaper.8abd10198d38772bf2c0.jpg"}}]);
//# sourceMappingURL=movieDetailsPage.e3a1491b.chunk.js.map